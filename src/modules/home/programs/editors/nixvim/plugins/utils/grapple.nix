{ pkgs, ... }: {
  # Quickly switch between buffers (Harpoon replacement)
  # https://github.com/cbochs/grapple.nvim
  config.programs.nixvim = {
    extraPlugins = [
      (pkgs.vimUtils.buildVimPlugin {
        pname = "grapple.nvim";
        version = "1.0";
        src = pkgs.fetchFromGitHub {
          owner = "cbochs";
          repo = "grapple.nvim";
          rev = "7aedc261b05a6c030397c4bc26416efbe746ebf1";
          hash = "sha256-apWKHEhXjFdS8xnSX0PoiOMzR+RVuYHFLV9sUl/HhTE=";
        };
      })
    ];

    extraConfigLua = ''
      require('grapple').setup({
        scope = "git_branch",
      })
    '';
  };
}
